let section1=$("#section1"),navbar=$(".navbar");function isInViewport(e){var t=e.offset().top,n=t+e.outerHeight()/2,o=$(window).scrollTop(),i=o+$(window).height();return n>o&&t<i}$(document).on("click",'a[href^="#"]',function(e){e.preventDefault(),$("html, body").stop().animate({scrollTop:$($(this).attr("href")).offset().top},800,"swing")}),$(document).on("resize scroll",function(e){isInViewport(section1)&&navbar.is(":visible")?navbar.slideUp():!isInViewport(section1)&&navbar.is(":hidden")&&navbar.slideDown(),$(".section").each(function(){if(isInViewport($(this)))return $(".nav-link").removeClass("active"),$(`a[href='#${$(this).attr("id")}']`).addClass("active"),!1})}),$(document).on("scroll",function(){clearTimeout(topScroller),$("#topScroller").fadeOut()});let topScroller=setTimeout(function(){$("#topScroller").fadeIn()},3e3);particlesJS("particles-js",{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#8c0783"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:5,random:!0,anim:{enable:!1,speed:20,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#8c0783",opacity:.4,width:1},move:{enable:!0,speed:3,direction:"none",random:!1,straight:!1,out_mode:"out",attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:200,line_linked:{opacity:1}},bubble:{distance:200,size:40,duration:2,opacity:8,speed:2},repulse:{distance:100},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0,config_demo:{hide_card:!1,background_color:"#fff",background_image:"",background_position:"50% 50%",background_repeat:"no-repeat",background_size:"cover"}});let splashImg=document.getElementById("section1-background-img"),textureImg=document.getElementById("section4-background-img");new simpleParallax(splashImg),new simpleParallax(textureImg),setTimeout(function(){$("#header-reminder").fadeIn("slow")},3500),$(document).ready(function(){$(".animsition").animsition({inClass:"fade-in-down-lg",outClass:"zoom-out-sm",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(e){window.location.href=e}})});let oldHTML,quill=new Quill("#editor",{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{header:[1,2,3,4,5,6,!1]}],[{font:[]}]]}}),formBtn=$("#sendForm");$("#emailForm").submit(function(e){e.preventDefault(),$("#bodyText").val($(".ql-editor").html()),quill.enable(!1),$("#error").hide(),oldHTML||(oldHTML=formBtn.html()),formBtn.html('<img src="/img/spinner.svg" alt="Caricamento">'),formBtn.prop("disabled",!0);const t=document.getElementById("name").value,n=document.getElementById("surname").value,o=document.getElementById("email").value,i=document.getElementsByClassName("ql-editor")[0].innerHTML,a=document.getElementById("g-recaptcha-response").value;return $.ajax({data:JSON.stringify({name:t,surname:n,email:o,text:i,captcha:a}),method:"POST",url:"/contact",headers:{"Content-type":"application/json"},error:function(e){formBtn.html(oldHTML),quill.enable(!1),formBtn.prop("disabled",!1),"Risolvi il CAPTCHA per continuare"==e.responseJSON.msg?$("#error").show().text(e.responseJSON.msg):"Verifica del CAPTCHA fallita"==e.responseJSON.msg?$("#error").show().text(e.responseJSON.msg+", riprova"):$("#error").show().text("Si è verificato un errore nell'invio della richiesta, si prega di inviare una mail");console.log(r.responseJSON.msg)},success:function(){formBtn.remove();let e=$("#section6-subdiv").height();$("#section6-subdiv").html(`<h1>Grazie per avermi contattato!</h1><p style="margin-bottom: ${e/2}px;">Risponderò più presto alla tua mail.</p>`)}}),!1});