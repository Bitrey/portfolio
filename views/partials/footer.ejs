<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
    crossorigin="anonymous"></script>
<script>
    let section1 = $("#section1");
    let navbar = $(".navbar");
    function isInViewport(elem){
        var elementTop = elem.offset().top;
        var elementBottom = elementTop + elem.outerHeight() / 2;
        var viewportTop = $(window).scrollTop();
        var viewportBottom = viewportTop + $(window).height();
        return elementBottom > viewportTop && elementTop < viewportBottom;
    };
    $(document).on('click', 'a[href^="#"]', function(e){
        e.preventDefault();
        $('html, body').stop().animate({
            scrollTop: $($(this).attr('href')).offset().top
        }, 800, 'swing');
    });
    $(document).on('resize scroll', function(e){
        if(isInViewport(section1) && navbar.is(":visible")){
            navbar.slideUp();
        } else if(!isInViewport(section1) && navbar.is(":hidden")){
            navbar.slideDown();
        }
        $(".section").each(function(){
            if(isInViewport($(this))){
                $(".nav-link").removeClass("active");
                $(`a[href='#${$(this).attr("id")}']`).addClass("active");
                return false;
            }
        });
    });
</script>
</body>

</html>